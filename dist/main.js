(()=>{"use strict";const t=async function(t){try{const e=await fetch(t,{mode:"cors"});return e.ok||console.log(`City ${location} isn't valid, try again!`),function(t){return console.log(t),{location:t.name+", "+t.sys.country,current_weather:t.weather[0].description,current_weather_icon_code:t.weather[0].icon,current_temp:Math.round(t.main.temp),feels_like_temp:Math.round(t.main.feels_like),high_temp:Math.round(t.main.temp_max),low_temp:Math.round(t.main.temp_min),humidity:Math.round(t.main.humidity)+"%",wind_dir:(e=t.wind.deg,["North","Northeast","East","Southeast","South","Southwest","West","Northwest"][Math.floor(e/360*8)]+` (${t.wind.deg}Â°)`),wind_speed:Math.round(t.wind.speed)};var e}(await e.json())}catch(t){console.log("Error: "+t)}};let e=!0,n=!1;async function o(){let n;e?(n="Salt Lake City",e=!1):n=document.getElementById("location_input").value;let o=`http://api.openweathermap.org/data/2.5/weather?q=${n}&units=metric&APPID=40117561b027d65aef26e6f9f3621abe`,i=await t(o);console.log(i),function(t){document.getElementById("location").textContent=t.location,document.getElementById("weather_overview").textContent=t.current_weather,document.getElementById("weather_icon").src=`http://openweathermap.org/img/wn/${t.current_weather_icon_code}@2x.png`,document.getElementById("current_temp").textContent=t.current_temp,document.getElementById("high_temp").textContent="It could get up to "+t.high_temp,document.getElementById("low_temp").textContent="And as low as "+t.low_temp,document.getElementById("humidity").textContent="Humidity: "+t.humidity,document.getElementById("wind_data").textContent=`Wind: ${t.wind_dir} at ${t.wind_speed} mph`}(i)}document.getElementById("search_btn").addEventListener("click",o),document.getElementById("toggle_units_btn").addEventListener("click",(function(){!function(t){document.querySelectorAll(".current_weather_container").forEach((e=>{t?e.classList.remove("metric"):e.classList.add("metric")}))}(n),n=!n})),o()})();
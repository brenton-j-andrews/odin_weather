(()=>{"use strict";let t=!1;async function e(t,e){let n="40117561b027d65aef26e6f9f3621abe",o=["imperial","metric"],r=`http://api.openweathermap.org/data/2.5/weather?q=${t}&units=${o[e]}&APPID=${n}`,a=await async function(t){try{const e=await fetch(t,{mode:"cors"});return e.ok||console.log(`City ${location} isn't valid, try again!`),function(t){return{location:t.name+", "+t.sys.country,latitude:t.coord.lat,longitude:t.coord.lon,current_weather:t.weather[0].description,current_weather_icon_code:t.weather[0].icon,current_temp:Math.round(t.main.temp),feels_like_temp:Math.round(t.main.feels_like),high_temp:Math.round(t.main.temp_max),low_temp:Math.round(t.main.temp_min),humidity:Math.round(t.main.humidity)+"%",wind_dir:(e=t.wind.deg,["North","Northeast","East","Southeast","South","Southwest","West","Northwest"][Math.floor(e/360*8)]+` (${t.wind.deg}Â°)`),wind_speed:Math.round(t.wind.speed)};var e}(await e.json())}catch(t){console.log("Error: "+t)}}(r),m=`https://api.openweathermap.org/data/2.5/onecall?lat=${a.latitude}&lon=${a.longitude}&units=${o[e]}&appid=${n}`,c=await async function(t){try{const e=await fetch(t,{mode:"cors"});return e.ok||console.log("Invalid API call, for now..."),await e.json()}catch(t){console.log("are we in error zone"),console.log("Error: "+t)}}(m);!function(t){document.getElementById("location_header").textContent=t.location,document.getElementById("weather_overview").textContent=t.current_weather,document.getElementById("weather_icon").src=`http://openweathermap.org/img/wn/${t.current_weather_icon_code}@2x.png`,document.getElementById("current_temp").textContent=t.current_temp,document.getElementById("high_temp").textContent=t.high_temp,document.getElementById("low_temp").textContent=t.low_temp,document.getElementById("humidity").textContent=t.humidity,document.getElementById("wind_data").textContent=`${t.wind_dir} at ${t.wind_speed}`}(a),function(t){console.log(t.hourly[0]),document.getElementById("hourly_temp_1").textContent=Math.round(t.hourly[0].temp),document.getElementById("hourly_icon_1").src=`http://openweathermap.org/img/wn/${t.hourly[0].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_2").textContent=Math.round(t.hourly[1].temp),document.getElementById("hourly_icon_2").src=`http://openweathermap.org/img/wn/${t.hourly[1].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_3").textContent=Math.round(t.hourly[2].temp),document.getElementById("hourly_icon_3").src=`http://openweathermap.org/img/wn/${t.hourly[2].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_4").textContent=Math.round(t.hourly[3].temp),document.getElementById("hourly_icon_4").src=`http://openweathermap.org/img/wn/${t.hourly[3].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_5").textContent=Math.round(t.hourly[4].temp),document.getElementById("hourly_icon_5").src=`http://openweathermap.org/img/wn/${t.hourly[4].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_6").textContent=Math.round(t.hourly[5].temp),document.getElementById("hourly_icon_6").src=`http://openweathermap.org/img/wn/${t.hourly[5].weather[0].icon}@2x.png`,document.getElementById("hourly_temp_7").textContent=Math.round(t.hourly[6].temp),document.getElementById("hourly_icon_7").src=`http://openweathermap.org/img/wn/${t.hourly[7].weather[0].icon}@2x.png`}(c)}document.getElementById("search_btn").addEventListener("click",(function(){e(document.getElementById("location_input").value,0)})),document.getElementById("toggle_units_btn").addEventListener("click",(function(){e(document.getElementById("location_header").innerText,t?0:1),function(t){let e=document.querySelectorAll(".weather_data"),n=document.getElementById("toggle_units_btn");e.forEach((e=>{t?(e.classList.remove("metric"),n.textContent="Display Celcius"):(e.classList.add("metric"),n.textContent="Display Fahrenheit")}))}(t),t=!t})),e("Salt Lake City",0)})();